# å¼€å‘è€…å…¥é—¨æŒ‡å—

<cite>
**Referenced Files in This Document**   
- [README.md](file://README.md)
- [backend/package.json](file://backend/package.json)
- [frontend/package.json](file://frontend/package.json)
- [backend/src/app.js](file://backend/src/app.js)
- [frontend/src/services/api.js](file://frontend/src/services/api.js)
- [backend/src/db/database.js](file://backend/src/db/database.js)
- [frontend/src/App.jsx](file://frontend/src/App.jsx)
- [backend/src/routes/api.js](file://backend/src/routes/api.js)
- [backend/src/services/dishService.js](file://backend/src/services/dishService.js)
- [backend/src/controllers/dishController.js](file://backend/src/controllers/dishController.js)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
4. [åç«¯å¯åŠ¨](#åç«¯å¯åŠ¨)
5. [å‰ç«¯å¯åŠ¨](#å‰ç«¯å¯åŠ¨)
6. [é¡¹ç›®è¿è¡Œ](#é¡¹ç›®è¿è¡Œ)
7. [å¸¸è§é—®é¢˜æ’æŸ¥](#å¸¸è§é—®é¢˜æ’æŸ¥)
8. [åŠŸèƒ½æ¼”ç¤º](#åŠŸèƒ½æ¼”ç¤º)

## ç®€ä»‹
WhatEatingæ˜¯ä¸€æ¬¾å…¨æ ˆç¾é£Ÿæ¨èåº”ç”¨ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·è§£å†³"ä»Šå¤©åƒä»€ä¹ˆ"çš„éš¾é¢˜ã€‚æœ¬æŒ‡å—å°†æŒ‡å¯¼æ–°å¼€å‘è€…å¦‚ä½•å¿«é€Ÿå…‹éš†ã€å®‰è£…ä¾èµ–ã€å¯åŠ¨å’Œæµ‹è¯•è¯¥é¡¹ç›®ï¼Œç¡®ä¿åœ¨5åˆ†é’Ÿå†…æˆåŠŸè¿è¡Œé¡¹ç›®ã€‚

**Section sources**
- [README.md](file://README.md#L1-L113)

## é¡¹ç›®ç»“æ„
WhatEatingé¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œä¸»è¦ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
WhatEating/
â”œâ”€â”€ backend/              # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ db/          # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ routes/      # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ controllers/ # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ services/    # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ app.js       # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ data/            # SQLiteæ•°æ®åº“
â””â”€â”€ frontend/            # å‰ç«¯åº”ç”¨
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/  # Reactç»„ä»¶
    â”‚   â”œâ”€â”€ services/    # APIæœåŠ¡
    â”‚   â””â”€â”€ App.jsx      # ä¸»åº”ç”¨
    â””â”€â”€ package.json
```

**Section sources**
- [README.md](file://README.md#L35-L60)

## ç¯å¢ƒå‡†å¤‡
åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒå·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

- **Node.js** (å»ºè®®ç‰ˆæœ¬16.xæˆ–æ›´é«˜)
- **npm** (Node.jsåŒ…ç®¡ç†å™¨)
- **Git** (ç”¨äºå…‹éš†é¡¹ç›®)

éªŒè¯å®‰è£…ï¼š
```bash
node --version
npm --version
git --version
```

**Section sources**
- [README.md](file://README.md#L1-L113)

## åç«¯å¯åŠ¨
### 1. å®‰è£…ä¾èµ–
```bash
cd backend
npm install
```

### 2. å¯åŠ¨æœåŠ¡
```bash
npm start
```

åç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://localhost:3000`ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š
```
ğŸš€ Server is running on http://localhost:3000
ğŸ“Š Environment: development
ğŸ”¥ API endpoint: http://localhost:3000/api
```

### 3. éªŒè¯åç«¯
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000/health`ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š
```json
{
  "status": "ok",
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

**Section sources**
- [README.md](file://README.md#L63-L72)
- [backend/package.json](file://backend/package.json#L1-L22)
- [backend/src/app.js](file://backend/src/app.js#L1-L64)

## å‰ç«¯å¯åŠ¨
### 1. å®‰è£…ä¾èµ–
```bash
cd frontend
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

å‰ç«¯åº”ç”¨å°†è¿è¡Œåœ¨ `http://localhost:5174`ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š
```
  VITE v5.0.0  ready in 123 ms
  âœ  Local:   http://localhost:5174/
  âœ  Network: use --host to expose
```

**Section sources**
- [README.md](file://README.md#L75-L84)
- [frontend/package.json](file://frontend/package.json#L1-L30)

## é¡¹ç›®è¿è¡Œ
### 1. å¯åŠ¨é¡ºåº
è¯·æŒ‰ç…§ä»¥ä¸‹é¡ºåºå¯åŠ¨é¡¹ç›®ï¼š
1. å…ˆå¯åŠ¨åç«¯æœåŠ¡
2. å†å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

### 2. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5174`ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªç²¾ç¾çš„ç¾é£Ÿæ¨èç•Œé¢ã€‚

### 3. åŠŸèƒ½äº¤äº’
ç‚¹å‡»"éšæœºæ¨è"æŒ‰é’®ï¼Œå‰ç«¯å°†é€šè¿‡APIè°ƒç”¨åç«¯æœåŠ¡ï¼Œè·å–éšæœºç¾é£Ÿæ¨èã€‚

```mermaid
sequenceDiagram
participant ç”¨æˆ· as ç”¨æˆ·
participant å‰ç«¯ as å‰ç«¯åº”ç”¨
participant åç«¯ as åç«¯API
participant æ•°æ®åº“ as SQLiteæ•°æ®åº“
ç”¨æˆ·->>å‰ç«¯ : ç‚¹å‡»"éšæœºæ¨è"
å‰ç«¯->>åç«¯ : GET /api/random-dish
åç«¯->>æ•°æ®åº“ : æŸ¥è¯¢éšæœºèœå“
æ•°æ®åº“-->>åç«¯ : è¿”å›èœå“æ•°æ®
åç«¯-->>å‰ç«¯ : è¿”å›JSONå“åº”
å‰ç«¯-->>ç”¨æˆ· : æ˜¾ç¤ºæ¨èç»“æœ
```

**Diagram sources**
- [frontend/src/services/api.js](file://frontend/src/services/api.js#L2-L22)
- [backend/src/routes/api.js](file://backend/src/routes/api.js#L5-L8)
- [backend/src/controllers/dishController.js](file://backend/src/controllers/dishController.js#L3-L24)
- [backend/src/services/dishService.js](file://backend/src/services/dishService.js#L3-L10)
- [backend/src/db/database.js](file://backend/src/db/database.js#L11-L28)

**Section sources**
- [README.md](file://README.md#L63-L84)
- [frontend/src/App.jsx](file://frontend/src/App.jsx#L1-L50)

## å¸¸è§é—®é¢˜æ’æŸ¥
### 1. ç«¯å£å†²çª
å¦‚æœç«¯å£è¢«å ç”¨ï¼Œè¯·ä¿®æ”¹ç›¸åº”é…ç½®ï¼š

**åç«¯ç«¯å£ä¿®æ”¹**ï¼š
ç¼–è¾‘ `backend/src/app.js` ä¸­çš„ `PORT` å˜é‡ï¼š
```javascript
const PORT = process.env.PORT || 3001; // ä¿®æ”¹ä¸º3001æˆ–å…¶ä»–ç«¯å£
```

**å‰ç«¯ç«¯å£ä¿®æ”¹**ï¼š
ç¼–è¾‘ `frontend/vite.config.js`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼š
```javascript
export default defineConfig({
  server: {
    port: 5175 // ä¿®æ”¹ç«¯å£
  }
})
```

### 2. ä¾èµ–å®‰è£…å¤±è´¥
å¦‚æœ `npm install` å¤±è´¥ï¼Œè¯·å°è¯•ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š

**æ¸…é™¤ç¼“å­˜**ï¼š
```bash
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

**ä½¿ç”¨å›½å†…é•œåƒ**ï¼š
```bash
npm config set registry https://registry.npmmirror.com
npm install
```

### 3. ç½‘ç»œè¿æ¥å¤±è´¥
å¦‚æœå‰ç«¯æç¤º"ç½‘ç»œè¿æ¥å¤±è´¥"ï¼Œè¯·æ£€æŸ¥ï¼š

1. åç«¯æœåŠ¡æ˜¯å¦å·²å¯åŠ¨
2. APIåœ°å€æ˜¯å¦æ­£ç¡®ï¼ˆé»˜è®¤ `http://localhost:3000`ï¼‰
3. CORSé…ç½®æ˜¯å¦æ­£ç¡®

å‰ç«¯APIåœ°å€é…ç½®åœ¨ `frontend/src/services/api.js`ï¼š
```javascript
const API_BASE_URL = 'http://localhost:3000/api';
```

**Section sources**
- [README.md](file://README.md#L1-L113)
- [frontend/src/services/api.js](file://frontend/src/services/api.js#L1-L84)
- [backend/src/app.js](file://backend/src/app.js#L1-L64)

## åŠŸèƒ½æ¼”ç¤º
### 1. ä¸»è¦åŠŸèƒ½
- âœ… éšæœºæ¨èç¾é£Ÿ
- âœ… ç²¾ç¾çš„UIè®¾è®¡ï¼ˆæ©™çº¢æ¸å˜ä¸»é¢˜ï¼‰
- âœ… åŠ è½½åŠ¨ç”»æ•ˆæœ
- âœ… é”™è¯¯å¤„ç†æç¤º
- âœ… å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒç§»åŠ¨ç«¯ï¼‰
- âœ… 30+é“åˆå§‹èœå•æ•°æ®
- âœ… åˆ†ç±»å±•ç¤ºï¼ˆå·èœã€ç²¤èœã€å®¶å¸¸èœç­‰ï¼‰

### 2. APIç«¯ç‚¹
| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/random-dish` | GET | è·å–éšæœºèœå• |
| `/api/dishes` | GET | è·å–æ‰€æœ‰èœå•ï¼ˆæ”¯æŒåˆ†é¡µï¼‰ |
| `/api/search?keyword=xxx` | GET | æœç´¢èœå• |
| `/api/dishes` | POST | æ·»åŠ æ–°èœå• |
| `/health` | GET | å¥åº·æ£€æŸ¥ |

### 3. æ•°æ®åº“åˆå§‹åŒ–
é¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆå§‹åŒ–SQLiteæ•°æ®åº“ï¼Œåˆ›å»º`dishes`è¡¨å¹¶æ’å…¥30+é“åˆå§‹èœå“æ•°æ®ã€‚

```mermaid
erDiagram
DISHES {
integer id PK
string name
text description
string category
datetime created_at
}
```

**Diagram sources**
- [backend/src/db/database.js](file://backend/src/db/database.js#L11-L28)

**Section sources**
- [README.md](file://README.md#L90-L105)
- [backend/src/db/database.js](file://backend/src/db/database.js#L29-L96)